{"version":3,"sources":["Components/FolderCreationWindow.js","Components/ConfirmationWindow.js","Components/Item.js","Components/DropArea.js","Components/MenuButton.js","Components/ProfileManagement.js","Components/SideMenu.js","Components/App.js","index.js"],"names":["FolderCreationWindow","props","folderName","undefined","handleFolderNameChanged","bind","event","stopPropagation","this","target","value","Fragment","className","type","placeholder","onInputCapture","onClick","onCreateClicked","onCancelClicked","React","Component","ConfirmationWindow","title","content","onConfirmClicked","Item","state","itemName","name","itemSize","size","itemIsFolder","isDirectory","onRemove","onDownload","onItemSelection","checkboxRef","createRef","id","current","checked","folderImg","src","alt","checkbox","ref","owner","checkboxes","push","onItemClick","createItem","item","v4","created","modified","key","compareItems","a","b","toLowerCase","DropArea","files","folderCreationWindow","selectedItems","$","on","e","preventDefault","window","addEventListener","handleWindowListeners","onDragEnter","onDragExit","onDrop","removeItem","generateItems","updateItems","itemClicked","requestDownload","itemSelectionChanged","downloadSelectedItems","onDownloadClicked","onRemoveClicked","onSelectAllClicked","onCreateFolderClicked","closeCreationWindow","closeFolderCreationWindow","createFolder","onRefreshClicked","addClass","removeClass","filesDropped","dataTransfer","droparea","counter","uploadFile","path","manageDownload","readyState","response","file","setState","length","callback","xhttp","XMLHttpRequest","fd","FormData","append","onreadystatechange","status","open","send","items","allItems","prevFolder","forEach","needUpdate","i","splice","substring","document","createElement","setAttribute","click","remove","targetIndex","findIndex","arrayItem","interval","setInterval","clearInterval","removeSelectedItems","uncheckAll","newFolderItem","prevProps","array1","array2","arrayCompare","sort","foldersList","filesList","listElement","onDragLeave","onDropCapture","MenuButton","text","ProfileManagement","profiles","profileName","handleCancelClicked","handleProfileNameChanged","createProfile","JSON","parse","handleProfileChange","handleCancel","newProfile","index","confirmationWindow","currentProfile","profilesElements","profile","handleDeleteClicked","App","requestFolder","getCurrentPath","openProfileManagement","closeProfileManagement","changeProfile","dropArea","profileWindow","currentFolder","folders","split","newPath","element","replaceSlashes","temp","replace","folder","requestPath","link","responseText","getPrevFolder","getPrevFolderPath","root","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.2b70f02e.chunk.js","sourcesContent":["import React from 'react';\r\nimport '../Styles/foldercreation.css';\r\n\r\nclass FolderCreationWindow extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.folderName = undefined;\r\n\r\n        this.handleFolderNameChanged = this.handleFolderNameChanged.bind(this);\r\n    }\r\n\r\n    handleFolderNameChanged(event) {\r\n        event.stopPropagation();\r\n        this.folderName = event.target.value;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <div className='background-fill'></div>\r\n                <div className='popup-window'>\r\n                    <div className='popup-title'>Enter Folder Name</div>\r\n                    <input className='folder-name-input' type='text' placeholder='Folder Name' onInputCapture={(event) => this.handleFolderNameChanged(event)} />\r\n                    <div>\r\n                        <button onClick={() => this.props.onCreateClicked(this.folderName)}>Create</button>\r\n                        <button onClick={this.props.onCancelClicked}>Cancel</button>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>);\r\n    }\r\n}\r\n\r\nexport default FolderCreationWindow;","import React from 'react';\r\nimport '../Styles/profilemanagement.css';\r\n\r\n/**\r\n * A window that appears at the center of the screen the is used\r\n * to ask the user for confirmation about an action about to be performed.\r\n * props:\r\n *  - title: the title of the window.\r\n *  - content: JSX content that will be presented at the center of the popup window.\r\n *  - onConfirmClicked: callback to a function for when the confirm button is clicked.\r\n *  - onCancelClicked: callback to a function for when the cancel button is clicked.\r\n */\r\nclass ConfirmationWindow extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <div className='background-fill' />\r\n                <div className='popup-window'>\r\n                    <div className='popup-title'>{this.props.title}</div>\r\n                    <div className='popup-content'>{this.props.content}</div>\r\n                    <div>\r\n                        <button onClick={this.props.onConfirmClicked}>Confirm</button>\r\n                        <button onClick={this.props.onCancelClicked}>Cancel</button>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ConfirmationWindow;","import React from 'react';\r\n\r\nimport '../Styles/Item.css';\r\n\r\n/* Item from the server comes as the following object:\r\n * - name: name of the file, includes extesion.\r\n * - isDirectory: if the file received is of folder type.\r\n * - size: size in bytes of the file. Folder size is always zero.\r\n * - created: when the file was created.\r\n * - modified: when the file was last modified.\r\n * - owner: the owner object of the this item.\r\n */\r\n\r\nclass Item extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            itemName: this.props.name,\r\n            itemSize: this.props.size,\r\n            itemIsFolder: this.props.isDirectory,\r\n        }\r\n\r\n        this.onRemove = this.onRemove.bind(this);\r\n        this.onDownload = this.onDownload.bind(this);\r\n        this.onItemSelection = this.onItemSelection.bind(this);\r\n        this.checkboxRef = React.createRef(); //todo: remove? i don't think it is being used at all.\r\n    }\r\n\r\n    onRemove(event) {\r\n        event.stopPropagation();\r\n        this.props.onRemove(this.props.id);\r\n    }\r\n\r\n    onDownload(event) {\r\n        event.stopPropagation();\r\n        this.props.onDownload(this.state.itemName);\r\n    }\r\n\r\n    onItemSelection(event) {\r\n        event.stopPropagation(); //Stop the propagation to the item div.\r\n        this.props.onItemSelection(this, !this.checkboxRef.current.checked);\r\n    }\r\n\r\n    render() {\r\n        const folderImg = this.state.itemIsFolder ? <img src='folder-icon.bmp' alt='Folder'></img> : null;\r\n        const checkbox = this.state.itemName !== '..' ? <input ref={this.checkboxRef} className='item-checkbox' type='checkbox' onClick={(event) => this.onItemSelection(event)} /> : null;\r\n        this.props.owner.checkboxes.push(this.checkboxRef);\r\n        return (\r\n            <div className=\"item\" onClick={() => this.props.onItemClick(this.state)}>\r\n                <div className=\"item-part\">\r\n                    {checkbox}\r\n                </div>\r\n                <div className=\"item-part\">\r\n                    <div className=\"item-combo\">\r\n                        {folderImg}\r\n                        <span className=\"item-name\">{this.state.itemName}</span>\r\n                    </div>\r\n                </div>\r\n                <div className=\"item-part\">\r\n                    <span className=\"item-size\">{this.state.itemSize}</span>\r\n                </div>\r\n\r\n                {/* <button className=\"item-button item-remove\" onClick={this.onRemove}>Remove</button> */}\r\n                {/* <button className=\"item-button item-download\" onClick={this.onDownload}>Download</button> */}\r\n            </div >\r\n        );\r\n    }\r\n}\r\n\r\nexport default Item;","import React from 'react';\r\nimport FolderCreationWindow from './FolderCreationWindow';\r\nimport ConfirmationWindow from './ConfirmationWindow';\r\nimport $ from 'jquery';\r\nimport Item from './Item';\r\nimport { v4 } from 'uuid';\r\nimport '../Styles/droparea.css';\r\n\r\n/**\r\n * Creates an Item Component.\r\n * @param {object} item Item information in a object format. Should include name (string), size (in bytes), isDirectory (boolean), created (Date), and modified (Date).\r\n * @param {Function} onRemove Callback function called when the Remove button is clicked.\r\n * @param {Function} onItemClick Callback function called when the Item div is clicked. \r\n */\r\nfunction createItem(item, onRemove, onItemClick, onDownload, onItemSelection, owner) {\r\n    const id = v4();\r\n    return <Item owner={owner} name={item.name} size={item.size} isDirectory={item.isDirectory}\r\n        created={item.created} modified={item.modified} onRemove={onRemove} onItemClick={onItemClick}\r\n        onDownload={onDownload} onItemSelection={onItemSelection}\r\n        key={id} id={id} />\r\n}\r\n\r\nclass DropArea extends React.Component {\r\n    constructor(props) {\r\n\r\n        super(props);\r\n        this.state = {\r\n            files: [],\r\n            onItemClick: this.props.onItemClick,\r\n            folderCreationWindow: undefined\r\n            // selectedItems: [],\r\n            // checkboxes: [],\r\n        }\r\n\r\n        this.selectedItems = [];\r\n        this.checkboxes = [];\r\n\r\n        $('body').on('ondrop', (e) => {\r\n            e.preventDefault();\r\n        })\r\n\r\n        //Add a listener for the browser window.\r\n        window.addEventListener('dragover', this.handleWindowListeners);\r\n\r\n        this.onDragEnter = this.onDragEnter.bind(this);\r\n        this.onDragExit = this.onDragExit.bind(this);\r\n        this.onDrop = this.onDrop.bind(this);\r\n        this.removeItem = this.removeItem.bind(this);\r\n        this.generateItems = this.updateItems.bind(this);\r\n        this.itemClicked = this.itemClicked.bind(this);\r\n        this.requestDownload = this.requestDownload.bind(this);\r\n        this.itemSelectionChanged = this.itemSelectionChanged.bind(this);\r\n        this.downloadSelectedItems = this.downloadSelectedItems.bind(this);\r\n        this.onDownloadClicked = this.onDownloadClicked.bind(this);\r\n        this.onRemoveClicked = this.onRemoveClicked.bind(this);\r\n        this.onSelectAllClicked = this.onSelectAllClicked.bind(this);\r\n        this.onCreateFolderClicked = this.onCreateFolderClicked.bind(this);\r\n        this.closeCreationWindow = this.closeFolderCreationWindow.bind(this);\r\n        this.createFolder = this.createFolder.bind(this);\r\n        this.closeFolderCreationWindow = this.closeFolderCreationWindow.bind(this);\r\n        this.onRefreshClicked = this.onRefreshClicked.bind(this);\r\n    }\r\n\r\n    //Removes the default action of browsers when a file is dropped.\r\n    handleWindowListeners(event) {\r\n        event.preventDefault();\r\n    }\r\n\r\n    onDragEnter(event) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        $(\".drop-area\").addClass('drag-on');\r\n    }\r\n\r\n    onDragExit(event) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        $(\".drop-area\").removeClass('drag-on');\r\n    }\r\n\r\n    onDrop(event) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        // event.persist\r\n        $(\".drop-area\").removeClass('drag-on');\r\n\r\n        const filesDropped = event.dataTransfer.files;\r\n        const droparea = this;\r\n        let counter = 0;\r\n        const manageDownload = function (readyState, response) {\r\n            if (readyState === 4 && response === 200) {\r\n                const file = filesDropped[counter];\r\n                // const file = event.dataTransfer.files[counter];\r\n                droparea.state.files.push(createItem(file, droparea.removeItem, droparea.itemClicked, droparea.requestDownload, droparea.itemSelectionChanged, droparea));\r\n                counter++;\r\n                //Update state\r\n                droparea.setState({\r\n                    files: droparea.state.files,\r\n                });\r\n                // console.log('RS: ' + readyState + ' RESP: ' + response + ' COUNTER: ' + counter);\r\n\r\n                if (counter !== filesDropped.length) {\r\n\r\n                    droparea.uploadFile(droparea.props.path(), filesDropped[counter], manageDownload);\r\n                    // this.uploadFile(this.props.path(), event.dataTransfer.files[counter], manageDownload);\r\n                }\r\n            }\r\n        };\r\n\r\n        //Start upload chain.\r\n        this.uploadFile(this.props.path(), filesDropped[counter], manageDownload);\r\n        // this.uploadFile(this.props.path(), event.dataTransfer.files[counter], manageDownload);\r\n\r\n        // const interval = setInterval((event) => {\r\n        //     const file = event.dataTransfer.files[counter];\r\n        //     this.uploadFile(this.props.path(), file, (readyState, response) => {\r\n        //         if (readyState === 4 && response === 200) {\r\n        //             this.state.files.push(createItem(file, this.removeItem, this.itemClicked, this.requestDownload, this.itemSelectionChanged, this));\r\n        //             counter++;\r\n        //         }\r\n\r\n        //         else if (readyState === 4 && response === 500) {\r\n        //             counter++;\r\n        //         }\r\n\r\n        //         if (counter === event.dataTransfer.files.length) {\r\n        //             clearInterval(interval);\r\n        //         }\r\n\r\n        //         //Update state\r\n        //         this.setState({\r\n        //             files: this.state.files,\r\n        //         });\r\n        //     })\r\n        // }, 150);\r\n        //Create items.\r\n\r\n    }\r\n\r\n    /**\r\n     * Uploads a file to the server.\r\n     * @param {*} path - path of the file\r\n     * @param {*} file - the actual file\r\n     * @param {*} callback - when the upload completes/fails the function to be called.\r\n     */\r\n    uploadFile(path, file, callback) {\r\n        const xhttp = new XMLHttpRequest();\r\n        const fd = new FormData(); //Creates a form to be sent.\r\n        // const path = this.props.path();\r\n        //TODO: Add a response behaviour to the request.\r\n        fd.append('rpath', path);\r\n        fd.append('data', file);\r\n\r\n        xhttp.onreadystatechange = () => {\r\n            if (callback !== undefined)\r\n                callback(xhttp.readyState, xhttp.status);\r\n        }\r\n\r\n        xhttp.open('POST', 'http://localhost:7777/api/u/test-user/a');\r\n        xhttp.send(fd);\r\n    }\r\n\r\n    /**\r\n     * Execute actions when an item is clicked.Plive\r\n     * @param {*} itemName \r\n     */\r\n    itemClicked(item) {\r\n        if (item.itemIsFolder) {\r\n            //Add to current folder and make a new request.\r\n            this.state.onItemClick(item.itemName);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Shows all the items received.\r\n     * @param {*} items array of items\r\n     */\r\n    updateItems(items) {\r\n        const allItems = [];\r\n\r\n        if (this.props.prevFolder !== undefined) {\r\n            // allItems.push(<Item name={'..'} key={v4()} onRemove={undefined} onItemClick={this.itemClicked} isDirectory={true} />);\r\n            allItems.push(createItem({\r\n                name: '..',\r\n                isDirectory: true,\r\n                created: undefined,\r\n                modified: undefined\r\n            }, undefined, this.itemClicked, undefined, undefined, this));\r\n        }\r\n\r\n        items.forEach(e => {\r\n            allItems.push(createItem(e, this.removeItem, this.itemClicked, this.requestDownload, this.itemSelectionChanged, this));\r\n            // const key = v4();\r\n            // allItems.push(<Item name={e.name} size={0} key={key} id={key} onRemove={this.removeItem} onItemClick={this.itemClicked} isDirectory={e.isDirectory} />);\r\n        });\r\n\r\n        this.setState({\r\n            files: allItems,\r\n            needUpdate: false,\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Makes a delete request with the folders path. If the request returns 200 as response the item is deleted from the list.\r\n     * \r\n     * @param {*} id target id.\r\n     */\r\n    async removeItem(id) {\r\n        const items = this.state.files;\r\n        for (let i = 0; i < items.length; i++) {\r\n            if (items[i].props.id === id) {\r\n                //Get item name\r\n                let name = items[i].props.name;\r\n                //Send delete request\r\n                const xhttp = new XMLHttpRequest();\r\n\r\n                //TODO: Change item status to deleting\r\n                //On 200 Response\r\n                xhttp.onreadystatechange = () => {\r\n                    if (xhttp.readyState === 4 && xhttp.status === 200) {\r\n                        //Remove item from list\r\n                        items.splice(i, 1);\r\n                        //Update state\r\n                        this.setState({\r\n                            files: items,\r\n                        })\r\n                    }\r\n                };\r\n\r\n                const path = this.props.path();\r\n                // console.log('PATH: ' + path);\r\n                xhttp.open('DELETE', 'http://localhost:7777/api/' + path + (path.substring(path.length - 3, path.length) === '%2F' ? '' : '%2F') + name);\r\n                xhttp.send();\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Downloads a single item based on the name.\r\n     * @param {string} name name of the item to be downloaded.\r\n     */\r\n\r\n    requestDownload(name) {\r\n        // console.log('Requesting ' + name + ' for download.');\r\n\r\n        const path = this.props.path();\r\n\r\n        // //Creates a temporary element and removes it after.\r\n        let a = document.createElement('a');\r\n        a.setAttribute('target', null);\r\n        a.setAttribute('href', `http://localhost:7777/api/d/${path}${path.substring(path.length - 3, path.length) === '2%F' ? '' : '%2F'}${name}`);\r\n\r\n        a.click();\r\n        a = null;\r\n    }\r\n\r\n    /**\r\n     * Updates the selectedItems array depeding on the checkbox changes on the items.\r\n     * @param {object} item adds this item to the array if checkbox is checked\r\n     * @param {boolean} remove if true will look for the item passed in to be removed from the array.\r\n     */\r\n    itemSelectionChanged(item, remove) {\r\n        // console.log('ITEM SELECTED: ' + item + ' -- ' + remove);\r\n        if (remove) {\r\n            //Find the item by name. TODO: Might be better to use ID instead.\r\n            const targetIndex = this.selectedItems.findIndex((arrayItem) => arrayItem.state.itemName === item.state.itemName);\r\n            this.selectedItems.splice(targetIndex, 1);\r\n        } else {\r\n            //Add item to selectedItems\r\n            this.selectedItems.push(item);\r\n        }\r\n        // console.log('ITEMS SELECTED: ' + this.selectedItems);\r\n\r\n    }\r\n\r\n    downloadSelectedItems() {\r\n        if (this.selectedItems.length === 0) {\r\n            return;\r\n        }\r\n\r\n        let counter = 0;\r\n\r\n        //Creates an interval to be called at a set amount of ms that calls the next item in the list to be deleted.\r\n        const interval = setInterval(() => {\r\n            // console.log('Interval started');\r\n            this.requestDownload(this.selectedItems[counter].state.itemName);\r\n            counter++;\r\n            //Checks if the counter reached the end of the array.\r\n            if (counter === this.selectedItems.length) {\r\n                clearInterval(interval);\r\n            }\r\n        }, 500);\r\n    }\r\n\r\n    removeSelectedItems() {\r\n        if (this.selectedItems.length === 0) {\r\n            return;\r\n        }\r\n\r\n        let counter = 0;\r\n        //Creates an interval to be called at a set amount of ms that calls the next item in the list to be deleted.\r\n        const interval = setInterval(() => {\r\n            //Makes a remove request for the item.\r\n            this.removeItem(this.selectedItems[counter].props.id);\r\n            counter++;\r\n            //Checks if the counter reached the end of the array.\r\n            if (counter === this.selectedItems.length) {\r\n                clearInterval(interval);\r\n                //Clear the selected items array.\r\n                this.selectedItems.length = 0;\r\n            }\r\n        }, 150);\r\n    }\r\n\r\n    onDownloadClicked() {\r\n        this.downloadSelectedItems();\r\n    }\r\n\r\n    onRemoveClicked() {\r\n        //Shows a confirmation window.\r\n        this.setState({\r\n            folderCreationWindow: <ConfirmationWindow\r\n                title='Item Deletion'\r\n                content='Are you sure you want to delete the item(s) selected? Once they are gone, they are gone.'\r\n                //If the the user clicks cancel removes the popup.\r\n                onCancelClicked={() => {\r\n                    this.setState({\r\n                        folderCreationWindow: undefined,\r\n                    });\r\n                }}\r\n\r\n                //If the user confirms the popup is removed and the requests are made.\r\n                onConfirmClicked={() => {\r\n                    this.setState({\r\n                        folderCreationWindow: undefined,\r\n                    });\r\n                    this.removeSelectedItems();\r\n                }}\r\n            />\r\n        });\r\n        // this.removeSelectedItems();\r\n    }\r\n\r\n    /**\r\n     * Called when the 'Select All' button is clicked. It checks for any checkboxes that are checked, if any are found it unmarks them an finishes the execution.\r\n     * If none are found it checks all the checkboxes.\r\n     */\r\n    onSelectAllClicked() {\r\n        let uncheckAll = false;\r\n        for (let i = 0; i < this.checkboxes.length; i++) {\r\n            if (this.checkboxes[i].current !== null && this.checkboxes[i].current.checked) {\r\n                uncheckAll = true;\r\n                break;\r\n            }\r\n        }\r\n        if (uncheckAll) {\r\n            for (let i = 0; i < this.checkboxes.length; i++) {\r\n                if (this.checkboxes[i].current && this.checkboxes[i].current.checked === true) {\r\n                    this.checkboxes[i].current.click();\r\n                }\r\n            }\r\n        } else {\r\n            for (let i = 0; i < this.checkboxes.length; i++) {\r\n                if (this.checkboxes[i].current !== null)\r\n                    this.checkboxes[i].current.click();\r\n            }\r\n        }\r\n\r\n        // console.log(this.state.checkboxes);\r\n    }\r\n\r\n    onCreateFolderClicked() {\r\n        this.setState({\r\n            folderCreationWindow: <FolderCreationWindow onCreateClicked={this.createFolder} onCancelClicked={this.closeFolderCreationWindow} />\r\n        });\r\n    }\r\n\r\n    onRefreshClicked() {\r\n        this.props.onRefreshClicked('.');\r\n    }\r\n\r\n    createFolder(name) {\r\n        // console.log(name);\r\n        this.closeFolderCreationWindow();\r\n        if (name === undefined || name === '') {\r\n            return;\r\n        }\r\n\r\n        const newFolderItem = createItem({ name: name, size: 0, isDirectory: true, created: undefined, modified: undefined },\r\n            undefined,\r\n            this.itemClicked,\r\n            this.requestDownload,\r\n            this.itemSelectionChanged,\r\n            this);\r\n\r\n        const xhttp = new XMLHttpRequest();\r\n        xhttp.onreadystatechange = () => {\r\n            if (xhttp.readyState === 4 && xhttp.status === 200) {\r\n                this.state.files.push(newFolderItem);\r\n                //Add item to list\r\n                this.setState({\r\n                    files: this.state.files,\r\n                })\r\n            }\r\n        }\r\n        const path = this.props.path();\r\n        xhttp.open('POST', `http://localhost:7777/api/cf/${path}${path.substring(path.length - 3, path.length) === '2%F' ? '' : '%2F'}${name}`);\r\n        xhttp.send();\r\n\r\n    }\r\n\r\n    closeFolderCreationWindow() {\r\n        this.setState({\r\n            folderCreationWindow: undefined\r\n        });\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (this.props.items === undefined) {\r\n            return;\r\n        }\r\n        if (prevProps.items == null) {\r\n            this.updateItems(this.props.items);\r\n        } else {\r\n            if (!arrayCompare(prevProps.items, this.props.items)) {\r\n                this.updateItems(this.props.items);\r\n            } else {\r\n                // console.log('same');\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        // Sort items by alphabetical order.\r\n        this.state.files.sort(compareItems);\r\n        const foldersList = [];\r\n        const filesList = [];\r\n        // Separates each file into specific arrays depending if they are directories or not.\r\n        this.state.files.forEach(e => {\r\n            if (e.props.isDirectory) {\r\n                foldersList.push(e);\r\n            } else {\r\n                filesList.push(e);\r\n            }\r\n        });\r\n\r\n        // Create a list element that will contain all items. Folders are shown first. \r\n        let listElement = 'No files here :(. Drag and drop some files here to start.';\r\n        if (this.state.files.length !== 0) {\r\n            listElement = (<React.Fragment>{foldersList}{filesList}</React.Fragment>);\r\n        }\r\n\r\n        return (\r\n            <React.Fragment>\r\n                {this.state.folderCreationWindow}\r\n                <div className=\"button-collection\">\r\n                    <button onClick={this.onRefreshClicked}>Refresh</button>\r\n                    <button onClick={this.onSelectAllClicked}>Select All</button>\r\n                    <button onClick={this.onCreateFolderClicked}>Create Folder</button>\r\n                    <button onClick={this.onDownloadClicked}>Download</button>\r\n                    <button onClick={this.onRemoveClicked}>Remove</button>\r\n                </div>\r\n                <div className=\"drop-area\" onDragEnter={this.onDragEnter} onDragLeave={this.onDragExit} onDropCapture={this.onDrop} onDrop={this.onDrop}>\r\n                    <div>\r\n                        {listElement}\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\n/**\r\n * Compares two arrays for equality.\r\n * @param {*} array1 \r\n * @param {*} array2 \r\n */\r\nfunction arrayCompare(array1, array2) {\r\n    if (array1 === undefined || array2 === undefined) {\r\n        return false;\r\n    }\r\n\r\n    if (array1.length !== array2.length) {\r\n        return false;\r\n    }\r\n\r\n    for (let i = 0; i < array1.length; i++) {\r\n        if (array1[i] !== array2[i]) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n\r\nfunction compareItems(a, b) {\r\n    if (a.props.name < b.props.name) {\r\n        return -1;\r\n    } else if (a.props.name.toLowerCase() > b.props.name.toLowerCase()) {\r\n        return 1;\r\n    }\r\n    return 0;\r\n}\r\n\r\nexport default DropArea;","import React from 'react';\r\n\r\nclass MenuButton extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n            <button onClick={this.props.onClick}>{this.props.text}</button>\r\n        )\r\n    }\r\n}\r\n\r\nexport default MenuButton;","import React from 'react';\r\nimport '../Styles/profilemanagement.css'\r\nimport ConfirmationWindow from './ConfirmationWindow';\r\n\r\nclass ProfileManagement extends React.Component {\r\n    //PROPS: handleCancel, handleProfileChange, currentProfile\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            profiles: [],\r\n        }\r\n\r\n        this.profileName = undefined;\r\n\r\n        this.handleCancelClicked = this.handleCancelClicked.bind(this);\r\n        this.handleProfileNameChanged = this.handleProfileNameChanged.bind(this);\r\n        this.createProfile = this.createProfile.bind(this);\r\n\r\n        //Get all profiles\r\n        const xhttp = new XMLHttpRequest();\r\n        xhttp.onreadystatechange = () => {\r\n            if (xhttp.readyState === 4 && xhttp.status === 200) {\r\n                this.setState({\r\n                    profiles: JSON.parse(xhttp.response)\r\n                });\r\n            }\r\n        }\r\n\r\n        xhttp.open('GET', 'http://localhost:7777/api/i/profile');\r\n        xhttp.send();\r\n    }\r\n\r\n    createProfile() {\r\n        if (this.profileName === undefined || this.profileName === '') {\r\n            //TODO: Show error message on screen.\r\n            return;\r\n        }\r\n\r\n        const xhttp = new XMLHttpRequest();\r\n        xhttp.onreadystatechange = () => {\r\n            if (xhttp.readyState === 4 && xhttp.status === 200) {\r\n                this.handleProfileChange(undefined, this.profileName);\r\n            }\r\n        };\r\n\r\n        //TODO: Change spaces for dashes in the profileName.\r\n\r\n        xhttp.open('POST', `http://localhost:7777/api/cp/${this.profileName}`);\r\n        xhttp.send();\r\n    }\r\n\r\n    handleProfileNameChanged(event) {\r\n        event.stopPropagation();\r\n        //Assigns whatever the user type to profileName.\r\n        this.profileName = event.target.value;\r\n    }\r\n\r\n    handleCancelClicked(event) {\r\n        event.stopPropagation();\r\n        this.props.handleCancel();\r\n    }\r\n\r\n    handleProfileChange(event, newProfile) {\r\n        if (event !== undefined) {\r\n            event.stopPropagation();\r\n        }\r\n        this.props.handleProfileChange(newProfile);\r\n    }\r\n\r\n    handleDeleteClicked(event, index) {\r\n        //TODO: Show confirmation popup.\r\n        event.stopPropagation();\r\n        this.setState({\r\n            confirmationWindow: <ConfirmationWindow title='Profile Deletion'\r\n                content='Are you sure you want to delete this profile? It will delete all the files from this profile. There is no way to get them back after.'\r\n                onConfirmClicked={() => {\r\n                    this.setState({\r\n                        confirmationWindow: undefined\r\n                    });\r\n                    const xhttp = new XMLHttpRequest();\r\n                    xhttp.onreadystatechange = () => {\r\n                        if (xhttp.readyState === 4 && xhttp.status === 200) {\r\n                            // Remove profile from the profiles.\r\n                            if (this.props.currentProfile === this.state.profiles[index]) {\r\n                                this.state.profiles.splice(index, 1);\r\n                                this.handleProfileChange(undefined, this.state.profiles[0]);\r\n                            } else {\r\n                                this.state.profiles.splice(index, 1);\r\n                                this.setState({\r\n                                    profiles: this.state.profiles,\r\n                                });\r\n                            }\r\n                        }\r\n                    }\r\n                    xhttp.open('DELETE', `http://localhost:7777/api/dp/${this.state.profiles[index]}`);\r\n                    xhttp.send();\r\n                }} //onConfirmClicked END\r\n                onCancelClicked={() => {\r\n                    this.setState({\r\n                        confirmationWindow: undefined\r\n                    })\r\n                }} /> //onCancelClicked END\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const profilesElements = [];\r\n        //Creates profiles elements for each profile.\r\n        this.state.profiles.forEach((profile, index) => {\r\n            profilesElements.push(\r\n                <div onClick={(event) => this.handleProfileChange(event, profile)} className='profile-single' key={index}>\r\n                    <div className='profile-name'>{profile}</div>\r\n                    <button onClick={(event) => this.handleDeleteClicked(event, index)}>Delete</button>\r\n                </div>);\r\n        });\r\n        //If the confirmation window exists it should show it instead of the profile window.\r\n        if (this.state.confirmationWindow !== undefined) {\r\n            return (\r\n                <React.Fragment>\r\n                    {this.state.confirmationWindow}\r\n                </React.Fragment>\r\n            );\r\n        }\r\n        return (\r\n            <React.Fragment>\r\n                {this.state.confirmationWindow}\r\n                <div className='background-fill' />\r\n                <div className='profile-window'>\r\n                    <div className='profile-block-container'>\r\n                        <div className='profile-window-block divider-line-right divider-line-bottom'>\r\n                            <div className='profile-window-block-title divider-line-bottom'>\r\n                                Select Profile\r\n                            </div>\r\n                            {profilesElements}\r\n                        </div>\r\n                        <div className='profile-window-block divider-line-bottom'>\r\n                            <div className='profile-window-block-title divider-line-bottom'>\r\n                                <div>Create Profile</div>\r\n                            </div>\r\n                            <div className='profile-creation'>\r\n                                <input className='profile-name-input' type='text' placeholder='Profile Name' onInputCapture={this.handleProfileNameChanged} />\r\n                                <button className='profile-create-button' onClick={this.createProfile}>Create Profile</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className='profile-footer'>\r\n                        <button onClick={this.handleCancelClicked}>Cancel</button>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ProfileManagement;","import React from 'react';\r\nimport MenuButton from './MenuButton';\r\n\r\nclass SideMenu extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.handleRefreshOnClick = this.handleRefreshOnClick.bind(this);\r\n    }\r\n\r\n\r\n    handleRefreshOnClick() {\r\n        this.props.refreshClicked();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='side-menu'>\r\n                <MenuButton text='Refresh' onClick={this.handleRefreshOnClick} />\r\n                {/* <Tree /> */}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default SideMenu;\r\n","import React from 'react';\n// import logo from './logo.svg';\nimport DropArea from './DropArea';\nimport SideMenu from './SideMenu';\nimport ProfileManagement from './ProfileManagement';\n\nimport '../Styles/App.css';\n\nclass App extends React.Component {\n\n  constructor() {\n    super();\n    // this.dropAreaRef = React.createRef();\n    this.requestFolder = this.requestFolder.bind(this);\n    this.getCurrentPath = this.getCurrentPath.bind(this);\n    this.openProfileManagement = this.openProfileManagement.bind(this);\n    this.closeProfileManagement = this.closeProfileManagement.bind(this);\n    this.changeProfile = this.changeProfile.bind(this);\n\n    this.state = {\n      dropArea: <DropArea onItemClick={this.requestFolder} path={this.getCurrentPath} onRefreshClicked={this.requestFolder} />,\n      profileWindow: undefined,\n      profile: '(No profile selected)',\n      currentFolder: '%2F',\n    }\n  }\n\n  /**\n   * Returns the previous folder name based on a complete path.\n   * @param {*} path full path of the current folder.\n   */\n  getPrevFolder(path) {\n    //If at root folder return nothing.\n    if (path === '%2F' || path === undefined) {\n      return undefined;\n    }\n\n    const folders = path.split('%2F');\n    // console.log(folders[folders.length - 2]);\n    return folders[folders.length - 2] === '' ? '%2F' : folders[folders.length - 2];\n  }\n\n  getPrevFolderPath(path) {\n    //If at root folder return nothing.\n    if (path === '%2F' || path === undefined) {\n      return undefined;\n    }\n\n    //Creates an array with each folder as a single element.\n    let folders = path.split('%2F');\n    //Removes last element.\n    folders.splice(folders.length - 1, 1);\n    let newPath = '';\n    //Create a new path with the remaining folders.\n    folders.forEach(element => {\n      newPath += element + '%2F';\n    });\n    // console.log('NEWPATH: ' + newPath.substring(0, newPath.length - 3));\n    return newPath === '' ? undefined : newPath.substring(0, newPath.length - 3); //Removes last %2F from the string.\n  }\n\n  /**\n   * Returns the current path including the profile.\n   */\n  getCurrentPath(replaceSlashes) {\n    let temp = `${this.state.profile}${this.state.currentFolder}`\n    // console.log('OLDTEMP: ' + temp);\n    if (replaceSlashes)\n      temp = temp.replace(/(%2F)/g, '/');\n    // console.log('TEMP: ' + temp);\n    return temp;\n  }\n\n  /**\n   * Requests folder information from the server. Updates the current path if the request is fufilled.\n   * @param {string} folder \n   */\n  requestFolder(folder) {\n    const xhttp = new XMLHttpRequest();\n    let response;\n    let requestPath;\n\n    xhttp.onreadystatechange = () => {\n      if (xhttp.readyState === 4 && xhttp.status === 200) {\n        response = JSON.parse(xhttp.responseText);\n\n        this.setState({\n          currentFolder: requestPath,\n          dropArea: <DropArea items={response} prevFolder={this.getPrevFolder(requestPath)} path={this.getCurrentPath} onRefreshClicked={this.requestFolder} />\n        });\n\n      }\n    }\n\n    let link;\n    //If the folder requested is . it requests the same folder information.\n    if (folder === '.') {\n      // console.log('Refreshed');\n      requestPath = this.state.currentFolder;\n    }\n    //If the folder requested is .. it requests the previous folder information.\n    else if (folder === '..') {\n      // console.log('CURRENT FOLDER: ' + this.state.currentFolder);\n      requestPath = this.getPrevFolderPath(this.state.currentFolder);\n    } else {\n      // console.log('CURRENT FOLDER: ' + this.state.currentFolder);\n      requestPath = this.state.currentFolder + (this.state.currentFolder === '%2F' ? '' : '%2F') + (folder === '%2F' ? '' : folder);\n      // console.log('REQUEST PATH: ' + requestPath);\n    }\n    link = `http://localhost:7777/api/${this.state.profile}${requestPath}`;\n\n    // console.log('LINK ' + link);\n    xhttp.open('GET', link, true);\n    xhttp.send();\n  }\n\n  openProfileManagement() {\n    this.setState({\n      profileWindow: <ProfileManagement currentProfile={this.state.profile} handleCancel={this.closeProfileManagement} handleProfileChange={(newProfile) => this.changeProfile(newProfile)} />\n    });\n  }\n\n  closeProfileManagement() {\n    this.setState({\n      profileWindow: undefined,\n    });\n  }\n\n  changeProfile(newProfile) {\n    this.setState({\n      profile: newProfile,\n      currentFolder: '%2F'\n    }, () => {\n      this.closeProfileManagement();\n      this.requestFolder('%2F');\n    });\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        {this.state.profileWindow}\n        <div className=\"app\">\n          <div>\n            <h1>Home Cloud Drive v1</h1>\n            <h2>Profile: {this.state.profile} <button onClick={this.openProfileManagement}>Change</button></h2>\n            <div>\n              {/* <span className=\"\">Current Path: {this.getCurrentPath(true)}</span> */}\n              <div className=\"path-container\"><div className=\"path-title\">Current Path</div><div className=\"path-actual\">/{this.getCurrentPath(true)}</div></div>\n            </div>\n          </div>\n          {/* <SideMenu refreshClicked={() => this.requestFolder('.')} /> */}\n          {this.state.dropArea}\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default App;\n\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './Components/App';\r\n\r\n\r\n\r\nconst root = document.getElementById(\"root\");\r\nReactDOM.render(<App />, root)\r\n"],"sourceRoot":""}